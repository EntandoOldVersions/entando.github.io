<!DOCTYPE HTML>
<html lang="en" class="no-js">
<head>
	<meta charset="utf-8" />

	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

	<title>Home - Entando.org</title>

	<meta name="viewport" content="initial-scale=1,maximum-scale=1,minimum-scale=1 user-scalable=no,width = 320" />
	<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;" />
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta name="apple-mobile-web-app-status-bar-style" content="default" />	
	
 	<link href="http://fonts.googleapis.com/css?family=Comfortaa:300,400,700|Righteous|Droid+Sans:400,700|Lobster+Two:400,700italic" rel="stylesheet" type="text/css">
 	
	<link rel="stylesheet" href="css/html5reset-1.6.1.css" media="screen" />
	<link rel="stylesheet" href="css/style.css" media="screen" />

	<script src="js/matchMedia.js"></script>
	<script src="js/mootools-core-1.4.2-full-nocompat-yc.js" type="text/javascript"></script>
	<script>
		//if the current device support the 600px screen size
		if (matchMedia('screen and (min-width: 600px)').matches) {
			//instatiate a var for next use
			var extraArticleElement = null;
			//when the DOM is ready
			window.addEvent('domready', function(){
					//generate a new HTML request to the page index-info.html
					new Request.HTML({
						url: 'index-info.html',
						method: 'get',
						onSuccess: function(responseText, responseXML) {
							//when the page is loaded then fire an event, everthing is ready
							window.fireEvent('extraInfoReady', responseXML);
						}
					}).get();
			});
			//create an event used when the extra info html page has been loaded
			window.addEvent('extraInfoReady', function(extraInfos) {
				//if there's something
				if (extraInfos!==undefined) {
					//capture all the <article> elements
					extraInfos = extraInfos.getElements('article');
					//create a <section> element to host dinamically the articles
					var nav = document.getElement('nav');
					var section = new Element('section');
					var article = new Element('article');
					section.inject(nav, 'after');
					article.inject(section);
					extraArticleElement = article;
					var navEls = nav.getElements('li');
					//for each of them add events for mouseover and touch
					Array.each(navEls, function(navItem, index) {
						navItem.addEvent('mouseover', function(ev){
							showExtraInfo(this[0], this[1]);
						}.bind([navItem, extraInfos[index]]));
						navItem.addEvent('touchmove', function(ev){
							ev.preventDefault();
							showExtraInfo(this[0], this[1]);
						}.bind([navItem, extraInfos[index]]));
					});
				}
			});
			var showExtraInfo = function(nav, extra) {
				var oldNav = document.getElement('.nav-active');
				if (oldNav != nav) {
					if (oldNav !=null) { oldNav.removeClass('nav-active'); }
					nav.addClass('nav-active');
					extraArticleElement.empty();
					extra.inject(extraArticleElement);
					extra.getElement('a.go').set('href', nav.getElement('a').get('href'));
				}
			};
		}
	</script>
</head>
<body>
<header>
	<h1><span>E</span>ntando</h1>
	<p>The Agile next generation Open Source portal</p>
</header>
<nav>
	<ul>
		<li><a href="https://github.com/entando/">Source code</a></li>
		<li><a href="https://github.com/entando/entando-demo/downloads/">Download the Demo</a></li>
		<li><a href="http://search.maven.org/#search%7Cga%7C1%7Centando/">Use with Maven</a></li>
		<li><a href="https://github.com/entando/Entando/wiki/">Documentation</a></li>
		<li><a href="http://www.entando.com/">Entando.com</a></li>
	</ul>
</nav>
<!-- 
	Insert me once passed 600px
	<section id="main">
		<article>
			<h1>A Title</h1>
			<p>Lorem ipsum</p>
			<p><a href="">GO!</a></p>
		</article>
	</section>
-->

<footer>
	<p>Copyright &copy; 2012 Entando Srl</p>
</footer>

</body>
</html>